<div class="tab-pane fade show active p-3 border rounded" id="dados-usuario" role="tabpanel" aria-labelledby="dados-usuario-tab">
    <form class="row g-3" action="{{ url_for('created_item_portfolio', id=id) }}" method="post" enctype="multipart/form-data">
        <fieldset>
            <input type="hidden" name="id" value="{{ id }}">
            {{ formItem.csrf_token() }}

            <div class="row mb-3">
                <div class="col-md-12">
                    {{ formItem.cliente.label(class="form-label") }}
                    <select class="form-select" name="cliente" id="cliente_select" onchange="toggleSelect('cliente')">
                        <option value="" selected>Selecione o cliente</option>
                        {% for cliente in clientes %}
                        <option value="{{ cliente.id }}" {% if formItem.cliente.data == cliente.id %}selected{% endif %}>
                            {{ cliente.razao_social }}
                        </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col-md-12 mt-2">
                    {{ formItem.prospect.label(class="form-label") }}
                    <select class="form-select" name="prospect" id="prospect_select" onchange="toggleSelect('prospect')">
                        <option value="" selected>Selecione o prospect</option>
                        {% for prospect in prospects %}
                        <option value="{{ prospect.id }}" {% if formItem.prospect.data == prospect.id %}selected{% endif %}>
                            {{ prospect.nome_completo }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <!-- Botões de Ação -->
            <div class="text-center mt-4">
                {{ formItem.adicionar(class="btn btn-primary mx-2") }}
            </div>
        </fieldset>
    </form>
</div>

<script type="text/javascript">
    function toggleSelect(selectedField) {
        const clienteSelect = document.getElementById('cliente_select');
        const prospectSelect = document.getElementById('prospect_select');

        if (selectedField === 'cliente') {
            if (clienteSelect.value) {
                prospectSelect.disabled = true;  // Desabilita o select de prospect
            } else {
                prospectSelect.disabled = false; // Habilita o select de prospect se nada for selecionado
            }
        } else if (selectedField === 'prospect') {
            if (prospectSelect.value) {
                clienteSelect.disabled = true;  // Desabilita o select de cliente
            } else {
                clienteSelect.disabled = false; // Habilita o select de cliente se nada for selecionado
            }
        }
    }
</script>
